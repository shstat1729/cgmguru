% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cgmguru-functions-docs.R
\name{find_max_before_hours}
\alias{find_max_before_hours}
\title{Find Maximum Glucose Before Specified Hours}
\arguments{
\item{df}{A dataframe containing CGM data with columns: id, time, gl}

\item{start_point_df}{A dataframe containing start points with columns: id, time}

\item{hours}{Number of hours to look back from the start point}
}
\value{
A list containing maximum glucose values and their timing within the specified window
}
\description{
Identifies the maximum glucose value occurring within a specified time window
before a given start point. This function is useful for analyzing glucose
patterns preceding specific events or time points.
}
\examples{
# Load sample data
library(iglu)
data(example_data_5_subject)
data(example_data_hall)

# Create start points for demonstration
start_points <- example_data_5_subject[seq(1, nrow(example_data_5_subject), by = 100), c("id", "time")]

# Find maximum glucose in previous 2 hours
max_before <- find_max_before_hours(example_data_5_subject, start_points, hours = 2)
print(paste("Found", length(max_before$max_indices), "maximum points"))

# Find maximum glucose in previous 1 hour
max_before_1h <- find_max_before_hours(example_data_5_subject, start_points, hours = 1)

# Analysis on larger dataset
large_start_points <- example_data_hall[seq(1, nrow(example_data_hall), by = 200), c("id", "time")]
large_max_before <- find_max_before_hours(example_data_hall, large_start_points, hours = 2)
print(paste("Found", length(large_max_before$max_indices), "maximum points in larger dataset"))
}
